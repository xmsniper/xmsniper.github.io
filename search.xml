<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>清除cookie稳妥做法</title>
      <link href="/2019/03/27/%E6%B8%85%E9%99%A4cookie%E7%A8%B3%E5%A6%A5%E5%81%9A%E6%B3%95/"/>
      <url>/2019/03/27/%E6%B8%85%E9%99%A4cookie%E7%A8%B3%E5%A6%A5%E5%81%9A%E6%B3%95/</url>
      <content type="html"><![CDATA[<p>清除cookie稳妥做法就是设置cookie与清除cookie写法一致，cookie清除不了的问题，主要出现在设置与清除cookie并非一端操作的情况下，此时需要注意path、domain的设置必须保持一致，注意下文中注释<code>//warning</code>处代码，如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">/*Days默认输入number或string格式数字=day；s10、m10、h10、d10分别代表秒、分、小时、天*/</span><br><span class="line">function setCookie(name, value, Days) &#123;</span><br><span class="line">    var cookieString = name + &apos;=&apos; + escape(value),</span><br><span class="line">        checkTime, checkMark;</span><br><span class="line">    if (!isNaN(+Days)) &#123;</span><br><span class="line">        checkTime = +Days</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        checkTime = Days.substr(1);</span><br><span class="line">        checkMark = Days.substr(0, 1)</span><br><span class="line">    &#125; if (checkTime &gt; 0) &#123;</span><br><span class="line">        var setDate = new Date();</span><br><span class="line">        setDate.setTime(setDate.getTime() + checkstr(checkMark, checkTime));</span><br><span class="line">        cookieString = name + &apos;=&apos; + escape(value) + &apos;; expires=&apos; + setDate.toGMTString() + &apos;;path=/;domain=&apos; + location.hostname</span><br><span class="line">    &#125;</span><br><span class="line">    document.cookie = cookieString</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getCookie(name) &#123;</span><br><span class="line">    var strCookie = document.cookie,</span><br><span class="line">        arrCookie = strCookie.split(&apos;;&apos;);</span><br><span class="line">    for (var i = 0, len = arrCookie.length; i &lt; len; i++) &#123;</span><br><span class="line">        var Arr_keyvalue = arrCookie[i].split(&apos;=&apos;);</span><br><span class="line">        if (Arr_keyvalue[0].replace(/(^\s*)|(\s*$)/g, &quot;&quot;) == name) &#123;</span><br><span class="line">            return unescape(Arr_keyvalue[1])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return &apos;&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function deleteCookie(name) &#123;</span><br><span class="line">    var setDate = new Date();</span><br><span class="line">    setDate.setTime(setDate.getTime() - 10000);</span><br><span class="line">    var value = getCookie(name);</span><br><span class="line">    if (value) &#123;</span><br><span class="line">        document.cookie = name + &apos;=&apos; + value + &apos;; expires=&apos; + setDate.toGMTString() + &apos;;path=/;domain=&apos; + location.hostname</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function checkstr(mark, Time) &#123;</span><br><span class="line">    if (!mark) &#123;</span><br><span class="line">        return Time * 24 * 60 * 60 * 1000</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        switch (mark) &#123;</span><br><span class="line">            case &apos;s&apos;:</span><br><span class="line">                return Time * 1000;</span><br><span class="line">                break;</span><br><span class="line">            case &apos;m&apos;:</span><br><span class="line">                return Time * 60 * 1000;</span><br><span class="line">                break;</span><br><span class="line">            case &apos;h&apos;:</span><br><span class="line">                return Time * 60 * 60 * 1000;</span><br><span class="line">                break;</span><br><span class="line">            case &apos;d&apos;:</span><br><span class="line">                return Time * 24 * 60 * 60 * 1000;</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                return false;</span><br><span class="line">                break</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>色调旋转滤镜按钮-在线生成</title>
      <link href="/2019/03/18/%E8%89%B2%E8%B0%83%E6%97%8B%E8%BD%AC%E6%BB%A4%E9%95%9C%E6%8C%89%E9%92%AE-%E5%9C%A8%E7%BA%BF%E7%94%9F%E6%88%90/"/>
      <url>/2019/03/18/%E8%89%B2%E8%B0%83%E6%97%8B%E8%BD%AC%E6%BB%A4%E9%95%9C%E6%8C%89%E9%92%AE-%E5%9C%A8%E7%BA%BF%E7%94%9F%E6%88%90/</url>
      <content type="html"><![CDATA[<p>本例应用颜色拾取插件 <a href="https://farbelous.io/bootstrap-colorpicker/tutorial-Basics.html" target="_blank" rel="noopener">https://farbelous.io/bootstrap-colorpicker/tutorial-Basics.html</a><br>直接放源码，有兴趣的点击例子查看：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;zh&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot; /&gt;</span><br><span class="line">&lt;title&gt;色调旋转滤镜下的按钮&lt;/title&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css&quot; integrity=&quot;sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm&quot; crossorigin=&quot;anonymous&quot;&gt;</span><br><span class="line">&lt;link href=&quot;css/bootstrap-colorpicker.css&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">html,</span><br><span class="line">body &#123;</span><br><span class="line">height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;container jumbotron h-100&quot;&gt;</span><br><span class="line">&lt;h1&gt;选择颜色&lt;/h1&gt;</span><br><span class="line">&lt;div id=&quot;demo&quot; class=&quot;input-group&quot; title=&quot;Using input value&quot;&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; class=&quot;form-control input-lg&quot; value=&quot;&quot; /&gt;</span><br><span class="line">&lt;span class=&quot;input-group-append&quot;&gt;&lt;span class=&quot;input-group-text colorpicker-input-addon&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;h4 class=&quot;pt-3&quot;&gt;色调旋转滤镜下的按钮&lt;/h4&gt;</span><br><span class="line">&lt;div id=&quot;hueBtnBox&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;h4 class=&quot;pt-3&quot;&gt;css&lt;/h4&gt;</span><br><span class="line">&lt;div id=&quot;css&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;https://code.jquery.com/jquery-3.3.1.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;js/bootstrap-colorpicker.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">$(function() &#123;</span><br><span class="line">$(&apos;#demo&apos;).colorpicker(&#123;</span><br><span class="line">&quot;color&quot;: &quot;#ff0000&quot;</span><br><span class="line">&#125;);</span><br><span class="line">$(&apos;#demo&apos;).on(&apos;colorpickerChange&apos;, function(event) &#123;</span><br><span class="line">initColor(event.color);</span><br><span class="line">&#125;);</span><br><span class="line">//初始化</span><br><span class="line">initColor(&apos;#ff0000&apos;);</span><br><span class="line">//生成36种旋转滤镜颜色</span><br><span class="line">function initColor(color) &#123;</span><br><span class="line">color = String(color).indexOf(&apos;#&apos;) &gt;= 0 ? color : hexify(String(color));</span><br><span class="line">var templeteStyle = &apos;.ui-button-primary&#123;border: 1px solid &apos; + color + &apos;;background-color: &apos; + color + &apos;;color: #fff;&#125;.ui-button-primary:hover &#123;background-color: &apos; + LightenDarkenColor(color, -20) + &apos;;border-color: &apos; + LightenDarkenColor(color, -20) + &apos;;&#125;&apos;;</span><br><span class="line">var res = [];</span><br><span class="line">if(!$(&apos;#colorPickerStyle&apos;).length) &#123;</span><br><span class="line">$(document.head).append(&apos;&lt;style id=&quot;colorPickerStyle&quot;&gt;&apos; + templeteStyle + &apos;&lt;/style&gt;&apos;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">$(&apos;#colorPickerStyle&apos;).html(templeteStyle);</span><br><span class="line">&#125;</span><br><span class="line">for(var i = 0, len = 36; i &lt; len; i++) &#123;</span><br><span class="line">res.push(&apos;&lt;button class=&quot;btn ui-button-primary m-1&quot; style=&quot;filter:hue-rotate(&apos; + i + &apos;0deg);&quot;&gt;其它色按钮&lt;/button&gt;&apos;)</span><br><span class="line">&#125;</span><br><span class="line">$(&apos;#hueBtnBox&apos;).html(res.join(&apos;&apos;));</span><br><span class="line">$(&apos;#css&apos;).html(templeteStyle);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">//十六进制转为RGB</span><br><span class="line">function hex2Rgb(hex) &#123;</span><br><span class="line">var rgb = [];</span><br><span class="line">if(/^\#[0-9A-F]&#123;3&#125;$/i.test(hex)) &#123; //判断传入是否为#三位十六进制数</span><br><span class="line">let sixHex = &apos;#&apos;;</span><br><span class="line">hex.replace(/[0-9A-F]/ig, function(kw) &#123;</span><br><span class="line">sixHex += kw + kw; //把三位16进制数转化为六位</span><br><span class="line">&#125;);</span><br><span class="line">hex = sixHex; //保存回hex</span><br><span class="line">&#125;</span><br><span class="line">if(/^#[0-9A-F]&#123;6&#125;$/i.test(hex)) &#123; //判断传入是否为#六位十六进制数</span><br><span class="line">hex.replace(/[0-9A-F]&#123;2&#125;/ig, function(kw) &#123;</span><br><span class="line">rgb.push(eval(&apos;0x&apos; + kw)); //十六进制转化为十进制并存如数组</span><br><span class="line">&#125;);</span><br><span class="line">return `rgb($&#123;rgb.join(&apos;,&apos;)&#125;)`; //输出RGB格式颜色</span><br><span class="line">&#125; else &#123;</span><br><span class="line">console.log(`Input $&#123;hex&#125; is wrong!`);</span><br><span class="line">return &apos;rgb(0,0,0)&apos;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">//rgb转换十六进制</span><br><span class="line">function hexify(color) &#123;</span><br><span class="line">var values = color</span><br><span class="line">.replace(/rgba?\(/, &apos;&apos;)</span><br><span class="line">.replace(/\)/, &apos;&apos;)</span><br><span class="line">.replace(/[\s+]/g, &apos;&apos;)</span><br><span class="line">.split(&apos;,&apos;);</span><br><span class="line">var a = parseFloat(values[3] || 1),</span><br><span class="line">r = Math.floor(a * parseInt(values[0]) + (1 - a) * 255),</span><br><span class="line">g = Math.floor(a * parseInt(values[1]) + (1 - a) * 255),</span><br><span class="line">b = Math.floor(a * parseInt(values[2]) + (1 - a) * 255);</span><br><span class="line">return &quot;#&quot; +</span><br><span class="line">(&quot;0&quot; + r.toString(16)).slice(-2) +</span><br><span class="line">(&quot;0&quot; + g.toString(16)).slice(-2) +</span><br><span class="line">(&quot;0&quot; + b.toString(16)).slice(-2);</span><br><span class="line">&#125;</span><br><span class="line">//转换颜色变亮、变暗</span><br><span class="line">function LightenDarkenColor(col, amt) &#123;</span><br><span class="line">var usePound = false;</span><br><span class="line">if(col[0] == &quot;#&quot;) &#123;</span><br><span class="line">col = col.slice(1);</span><br><span class="line">usePound = true;</span><br><span class="line">&#125;</span><br><span class="line">var num = parseInt(col, 16);</span><br><span class="line">var r = (num &gt;&gt; 16) + amt;</span><br><span class="line">if(r &gt; 255) r = 255;</span><br><span class="line">else if(r &lt; 0) r = 0;</span><br><span class="line">var b = ((num &gt;&gt; 8) &amp; 0x00FF) + amt;</span><br><span class="line">if(b &gt; 255) b = 255;</span><br><span class="line">else if(b &lt; 0) b = 0;</span><br><span class="line">var g = (num &amp; 0x0000FF) + amt;</span><br><span class="line">if(g &gt; 255) g = 255;</span><br><span class="line">else if(g &lt; 0) g = 0;</span><br><span class="line">return(usePound ? &quot;#&quot; : &quot;&quot;) + (g | (b &lt;&lt; 8) | (r &lt;&lt; 16)).toString(16);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>示例：<a href="/pages/色调旋转滤镜按钮在线生成/index.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> jquery </tag>
            
            <tag> bootstrap </tag>
            
            <tag> css3 </tag>
            
            <tag> colorpicker </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>百度分享-设置缩略图及标题</title>
      <link href="/2019/03/14/%E7%99%BE%E5%BA%A6%E5%88%86%E4%BA%AB-%E8%AE%BE%E7%BD%AE%E7%BC%A9%E7%95%A5%E5%9B%BE%E5%8F%8A%E6%A0%87%E9%A2%98/"/>
      <url>/2019/03/14/%E7%99%BE%E5%BA%A6%E5%88%86%E4%BA%AB-%E8%AE%BE%E7%BD%AE%E7%BC%A9%E7%95%A5%E5%9B%BE%E5%8F%8A%E6%A0%87%E9%A2%98/</url>
      <content type="html"><![CDATA[<h4 id="一不小心走进你的锅…"><a href="#一不小心走进你的锅…" class="headerlink" title="一不小心走进你的锅…"></a><strong>一不小心走进你的锅…</strong></h4><p>当你工作中用到  <a href="http://share.baidu.com/code" target="_blank" rel="noopener"> 百度分享 </a> ，<br>百度官方提供了两种方式，如图：</p><p>一定会毫不犹豫点金百度分享官网，<br>按其提示的两种方式选择一种来用，那么问题来了…,当你真的把网页分享出去时，你可能提出类似这种问题：<br><a href="http://tieba.baidu.com/p/5657545534" target="_blank" rel="noopener">…无法正常显示分享缩略图和介绍?</a>。<br>说到这里吐出一口老血！<br>直接讲重点：<br>1.按照官方<code>自由选择版</code>，获取到代码后。黏贴到需要分享的网页的js里。下面这是展开的样子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">window._bd_share_config = &#123;</span><br><span class="line">&quot;common&quot;: &#123;</span><br><span class="line">&quot;bdSnsKey&quot;: &#123;&#125;,</span><br><span class="line">&quot;bdText&quot;: &quot;&quot;,//标题</span><br><span class="line">&quot;bdDesc&quot;:&quot;&quot;,//官方解释：“分享的摘要”，此处就是附带分享发出去的文字，你可以尝试加上自行体会...</span><br><span class="line">&quot;bdMini&quot;: &quot;2&quot;,</span><br><span class="line">&quot;bdMiniList&quot;: false,</span><br><span class="line">&quot;bdPic&quot;: &quot;&quot;,//缩略图</span><br><span class="line">&quot;bdStyle&quot;: &quot;0&quot;,</span><br><span class="line">&quot;bdSize&quot;: &quot;16&quot;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;slide&quot;: &#123;</span><br><span class="line">&quot;type&quot;: &quot;slide&quot;,</span><br><span class="line">&quot;bdImg&quot;: &quot;1&quot;,</span><br><span class="line">&quot;bdPos&quot;: &quot;right&quot;,</span><br><span class="line">&quot;bdTop&quot;: &quot;157.5&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">with(document) 0[(getElementsByTagName(&apos;head&apos;)[0] || body).appendChild(createElement(&apos;script&apos;)).src = &apos;http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=&apos; + ~(-new Date() / 36e5)];</span><br></pre></td></tr></table></figure></p><p>2.打开官方<code>专业开发版</code>文档。关于各个参数的解释文档里该跟你说的都说了，说到这里本该结束了。但我还是多加一句，官方不想跟你说的没说…。<br>比如：当你分享出去自己的网页，再分享出去一个百度百科。此处的差异临时没去研究，有时间再去深究吧。</p><p>示例：<a href="/pages/百度分享-设置缩略图及标题.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>position-sticky</title>
      <link href="/2019/03/14/position-sticky/"/>
      <url>/2019/03/14/position-sticky/</url>
      <content type="html"><![CDATA[<h2 id="position-sticky简介"><a href="#position-sticky简介" class="headerlink" title="position:sticky简介"></a>position:sticky简介</h2><p>单词sticky的中文意思是“粘性的”，position:sticky表现也符合这个粘性的表现。<br>基本上，可以看出是position:relative和position:fixed的结合体——当元素在屏幕内，表现为relative，就要滚出显示器屏幕的时候，表现为fixed。<br>你可以点击 <a href="/pages/position-sticky.html">此处</a> 感受一下。</p><p>不过应用此属性需要注意html布局配合，以下是css样式及html结构，具体体会你将在使用时，切身体会到：</p><p><strong>css</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">h4 &#123;</span><br><span class="line">position: sticky;</span><br><span class="line">z-index: 1;</span><br><span class="line">top: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">position: relative;</span><br><span class="line">background-color: #7FDBFF;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">span &#123;</span><br><span class="line">display: block;</span><br><span class="line">position: sticky;</span><br><span class="line">bottom: 50%;</span><br><span class="line">z-index: -1;</span><br><span class="line">background: #2ECC40;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>html</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li&gt;</span><br><span class="line">&lt;h4&gt;我是标题1&lt;/h4&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;p&gt;我是内容......&lt;/p&gt;</span><br><span class="line">&lt;p&gt;我是内容......&lt;/p&gt;</span><br><span class="line">&lt;p&gt;我是内容......&lt;/p&gt;</span><br><span class="line">&lt;p&gt;我是内容......&lt;/p&gt;</span><br><span class="line">&lt;p&gt;我是内容......&lt;/p&gt;</span><br><span class="line">&lt;p&gt;我是内容......&lt;/p&gt;</span><br><span class="line">&lt;p&gt;我是内容......&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;span&gt;我是footer&lt;/span&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure></p><p>示例：<a href="/pages/position-sticky.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> css3 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>css变量</title>
      <link href="/2019/03/13/css%E5%8F%98%E9%87%8F/"/>
      <url>/2019/03/13/css%E5%8F%98%E9%87%8F/</url>
      <content type="html"><![CDATA[<h4 id="CSS变量var-语法"><a href="#CSS变量var-语法" class="headerlink" title="CSS变量var()语法"></a><strong>CSS变量var()语法</strong></h4><p>CSS中原生的变量定义语法是：<code>--*</code>，<br>变量使用语法是：<code>var(--*)</code>，<br>其中*表示我们的变量名称。<br>下面是bootstrap使用的<code>:root</code>定义：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line">    --blue: #007bff;</span><br><span class="line">    --indigo: #6610f2;</span><br><span class="line">    --purple: #6f42c1;</span><br><span class="line">    --pink: #e83e8c;</span><br><span class="line">    --red: #dc3545;</span><br><span class="line">    --orange: #fd7e14;</span><br><span class="line">    --yellow: #ffc107;</span><br><span class="line">    --green: #28a745;</span><br><span class="line">    --teal: #20c997;</span><br><span class="line">    --cyan: #17a2b8;</span><br><span class="line">    --white: #fff;</span><br><span class="line">    --gray: #6c757d;</span><br><span class="line">    --gray-dark: #343a40;</span><br><span class="line">    --primary: #007bff;</span><br><span class="line">    --secondary: #6c757d;</span><br><span class="line">    --success: #28a745;</span><br><span class="line">    --info: #17a2b8;</span><br><span class="line">    --warning: #ffc107;</span><br><span class="line">    --danger: #dc3545;</span><br><span class="line">    --light: #f8f9fa;</span><br><span class="line">    --dark: #343a40;</span><br><span class="line">    --breakpoint-xs: 0;</span><br><span class="line">    --breakpoint-sm: 576px;</span><br><span class="line">    --breakpoint-md: 768px;</span><br><span class="line">    --breakpoint-lg: 992px;</span><br><span class="line">    --breakpoint-xl: 1200px;</span><br><span class="line">    --font-family-sans-serif: -apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;;</span><br><span class="line">    --font-family-monospace: SFMono-Regular,Menlo,Monaco,Consolas,&quot;Liberation Mono&quot;,&quot;Courier New&quot;,monospace;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>相信用不了多久，你就可以不考虑此用法的兼容性。CSS中原生的变量的应用场景你可以自己探索，在我看来，此不失为一种定制一套皮肤风格的好办法。示例里顺便试了下document.scrollingElement,如有兴趣请自行F2查看。</p><p>示例：<a href="/pages/css变量.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>基于CSS3 column多栏布局实现水平滑页翻页交互</title>
      <link href="/2019/03/12/%E5%9F%BA%E4%BA%8ECSS3column%E5%A4%9A%E6%A0%8F%E5%B8%83%E5%B1%80%E5%AE%9E%E7%8E%B0%E6%B0%B4%E5%B9%B3%E6%BB%91%E9%A1%B5%E7%BF%BB%E9%A1%B5%E4%BA%A4%E4%BA%92/"/>
      <url>/2019/03/12/%E5%9F%BA%E4%BA%8ECSS3column%E5%A4%9A%E6%A0%8F%E5%B8%83%E5%B1%80%E5%AE%9E%E7%8E%B0%E6%B0%B4%E5%B9%B3%E6%BB%91%E9%A1%B5%E7%BF%BB%E9%A1%B5%E4%BA%A4%E4%BA%92/</url>
      <content type="html"><![CDATA[<p>今天看大神张鑫旭的文章，有一篇  <a href="https://www.zhangxinxu.com/wordpress/2017/02/css3-multiple-column-layout-read-horizontal/" target="_blank" rel="noopener">基于CSS3 column多栏布局实现水平滑页翻页交互</a> ，<br>为熟悉column多栏布局写法，模仿 <a href="https://m.qidian.com" target="_blank" rel="noopener">起点中文网</a> 封装了个jquery拓展方法。如下：</p><h4 id="css"><a href="#css" class="headerlink" title="css"></a><strong>css</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">html,body &#123;</span><br><span class="line">width: 100%;</span><br><span class="line">height: 100%;</span><br><span class="line">overflow: hidden;</span><br><span class="line">background: #C4B399;</span><br><span class="line">&#125;</span><br><span class="line">html,</span><br><span class="line">body,</span><br><span class="line">ul,</span><br><span class="line">li &#123;</span><br><span class="line">padding: 0;</span><br><span class="line">margin: 0;</span><br><span class="line">&#125;</span><br><span class="line">ul &#123;</span><br><span class="line">-webkit-columns: calc(100vw - 32px) 1;</span><br><span class="line">-webkit-column-gap: 16px;</span><br><span class="line">columns: calc(100vw - 32px) 1;</span><br><span class="line">column-gap: 16px;</span><br><span class="line">overflow: visible;</span><br><span class="line">height: 100%;</span><br><span class="line">transition: all 0.2s;</span><br><span class="line">&#125;</span><br><span class="line">ul li &#123;</span><br><span class="line">list-style: none;</span><br><span class="line">padding: 1em;</span><br><span class="line">margin: 1em;</span><br><span class="line">-webkit-column-break-inside: avoid;</span><br><span class="line">page-break-inside: avoid;</span><br><span class="line">background: #FFFFFF;</span><br><span class="line">break-inside: avoid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="html"><a href="#html" class="headerlink" title="html"></a><strong>html</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;&lt;/ul&gt;</span><br><span class="line">&lt;div style=&quot;display: flex;justify-content: space-between;position: absolute;bottom: 0;width: 100%;&quot;&gt;</span><br><span class="line">&lt;button&gt;前一页&lt;/button&gt;</span><br><span class="line">&lt;button&gt;后一页&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h4 id="js"><a href="#js" class="headerlink" title="js"></a><strong>js</strong></h4><p>依赖：jquery.js</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">(function() &#123;</span><br><span class="line">$.extend(&#123;</span><br><span class="line">pageColumns: &#123;</span><br><span class="line">init: function(options) &#123;</span><br><span class="line">var that = this;</span><br><span class="line">options=options||&#123;&#125;;</span><br><span class="line">//默认参数</span><br><span class="line">that.el = options.el || $(&apos;ul&apos;);</span><br><span class="line">that.prevBtn = options.prevBtn || $(&apos;button&apos;).eq(0);</span><br><span class="line">that.nextBtn = options.nextBtn || $(&apos;button&apos;).eq(1);</span><br><span class="line">that.columnGap = options.columnGap || 16;</span><br><span class="line">that.currentPage = options.currentPage || 0;</span><br><span class="line">that.sectionIndex = options.sectionIndex || 0;</span><br><span class="line">that.direction = options.direction || 1;</span><br><span class="line">that.totalWidth = that.el[0].scrollWidth;</span><br><span class="line">that.pageWidth = that.el.outerWidth();</span><br><span class="line">that.page = that.totalWidth / (that.pageWidth + that.columnGap * 2);</span><br><span class="line">//前一页</span><br><span class="line">that.prevBtn.on(&apos;click&apos;, function() &#123;</span><br><span class="line">if(that.currentPage) &#123;</span><br><span class="line">that.currentPage--;</span><br><span class="line">that.el.css(&apos;transform&apos;, &apos;translateX(-&apos; + (that.currentPage * (that.pageWidth + that.columnGap)) + &apos;px)&apos;);</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">that.direction = 0;</span><br><span class="line">that.sectionIndex--;</span><br><span class="line">that.filContent();</span><br><span class="line">that.slidePosition();</span><br><span class="line">&#125;);</span><br><span class="line">//后一页</span><br><span class="line">that.nextBtn.on(&apos;click&apos;, function() &#123;</span><br><span class="line">if(that.currentPage &lt; that.page - 1) &#123;</span><br><span class="line">that.currentPage++;</span><br><span class="line">that.el.css(&apos;transform&apos;, &apos;translateX(-&apos; + (that.currentPage * (that.pageWidth + that.columnGap)) + &apos;px)&apos;);</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">that.direction = 1;</span><br><span class="line">that.sectionIndex++;</span><br><span class="line">that.filContent();</span><br><span class="line">that.slidePosition();</span><br><span class="line">&#125;);</span><br><span class="line">//初始化</span><br><span class="line">that.filContent();</span><br><span class="line">    that.slidePosition();</span><br><span class="line">&#125;,</span><br><span class="line">filContent: function() &#123;</span><br><span class="line">var templete = &apos;很长很长的内容......&apos;;</span><br><span class="line">var repeatText = &apos;&lt;li&gt;&apos; + templete.repeat(3) + &apos;&lt;/li&gt;&apos;;</span><br><span class="line">var title = &apos;&lt;li&gt;第&apos; + this.sectionIndex + &apos;章&lt;/li&gt;&apos;;</span><br><span class="line">this.el.html(title + repeatText.repeat(30));</span><br><span class="line">&#125;,</span><br><span class="line">slidePosition: function() &#123;</span><br><span class="line">var that = this;</span><br><span class="line">that.el.css(&apos;transition&apos;, &apos;unset&apos;);</span><br><span class="line">that.totalWidth = that.el[0].scrollWidth;</span><br><span class="line">that.page = that.totalWidth / (that.pageWidth + that.columnGap * 2);</span><br><span class="line">if(that.direction) &#123;</span><br><span class="line">that.currentPage = 0;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">that.currentPage = Math.ceil(that.page - 1);</span><br><span class="line">&#125;</span><br><span class="line">that.el.css(&apos;transform&apos;, &apos;translateX(-&apos; + (that.currentPage * (that.pageWidth + that.columnGap)) + &apos;px)&apos;);</span><br><span class="line">setTimeout(function() &#123;</span><br><span class="line">that.el.css(&apos;transition&apos;, &apos;all 0.2s&apos;);</span><br><span class="line">&#125;, 200);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>示例：<a href="/pages/基于CSS3column多栏布局实现水平滑页翻页交互.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> jquery </tag>
            
            <tag> css3 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>相邻算法</title>
      <link href="/2019/03/11/%E7%9B%B8%E9%82%BB%E7%AE%97%E6%B3%95/"/>
      <url>/2019/03/11/%E7%9B%B8%E9%82%BB%E7%AE%97%E6%B3%95/</url>
      <content type="html"><![CDATA[<p>参照“猫眼电影”购票选座规则：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">* 影院选座验证</span><br><span class="line">* param &#123;Array&#125; arr</span><br><span class="line">* param &#123;Object&#125; options.ok验证成功回调函数，options.cancel验证失败回调函数</span><br><span class="line">* return &#123;Boolean&#125; 验证成功返回true,失败返回false</span><br><span class="line">*/</span><br><span class="line">function getAdjacentItem(arr,options) &#123;</span><br><span class="line">var arrLength=arr.length;</span><br><span class="line">var nextItems=[];</span><br><span class="line">if(!arrLength)&#123;return false;&#125;</span><br><span class="line">if(arrLength===1)&#123;options.ok&amp;&amp;options.ok(arr);return true;&#125;</span><br><span class="line">arr.sort(function(a,b)&#123;</span><br><span class="line">if(a.y===b.y&amp;&amp;Math.abs(a.x-b.x)===1)&#123;</span><br><span class="line">nextItems.push(&#123;</span><br><span class="line">a:a,</span><br><span class="line">b:b</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">return a.y-b.y;</span><br><span class="line">&#125;);</span><br><span class="line">if(arrLength%2)&#123;</span><br><span class="line">if(Math.floor(arrLength/2)===nextItems.length)&#123;</span><br><span class="line">options.ok&amp;&amp;options.ok(arr);</span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">if(arrLength/2===nextItems.length)&#123;</span><br><span class="line">options.ok&amp;&amp;options.ok(arr);</span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">options.cancel&amp;&amp;options.cancel(arr);</span><br><span class="line">return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>示例：<a href="/pages/相邻算法.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>网页防扒</title>
      <link href="/2019/03/06/%E7%BD%91%E9%A1%B5%E9%98%B2%E6%89%92/"/>
      <url>/2019/03/06/%E7%BD%91%E9%A1%B5%E9%98%B2%E6%89%92/</url>
      <content type="html"><![CDATA[<p>所谓防火防盗防大佬，虽然我们提倡开源，但是有时也会用到“网页防扒”，在<a href="https://www.sojson.com" target="_blank" rel="noopener">https://www.sojson.com</a> 被挡了一会感觉很蓝瘦，顺便研究了下如何“防扒”，代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">document.onkeydown=function()&#123;</span><br><span class="line">    var e=window.event||arguments[0];</span><br><span class="line">    if(e.keyCode==123)&#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;else if((e.ctrlKey)&amp;&amp;(e.shiftKey)&amp;&amp;(e.keyCode==73))&#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">document.oncontextmenu=function()&#123;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>示例：<a href="/pages/网页防扒.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>bootstrap-Modal组件封装</title>
      <link href="/2019/02/26/bootstrap-Modal%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85/"/>
      <url>/2019/02/26/bootstrap-Modal%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85/</url>
      <content type="html"><![CDATA[<p>bootstrap-Modal组件封装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">(function() &#123;</span><br><span class="line">$.extend(&#123;</span><br><span class="line">xmDialog: &#123;</span><br><span class="line">init: function(option) &#123;</span><br><span class="line">var that = this;</span><br><span class="line">var base = &#123;</span><br><span class="line">el: &apos;#xmCustomModal&apos;,</span><br><span class="line">classes: option.classes || &apos;modal-sm&apos;,</span><br><span class="line">zIndex:option.zIndex||10000,</span><br><span class="line">styles: option.styles || &#123;&#125;,//临时没用到</span><br><span class="line">modalHeader: &#123;</span><br><span class="line">title: option.title || &apos;&apos;,</span><br><span class="line">styles: option.headerStyles||&#123;&#125;</span><br><span class="line">&#125;,</span><br><span class="line">modalBody: &#123;</span><br><span class="line">content: option.content || &apos;&apos;,</span><br><span class="line">styles: option.bodyStyles || &#123;&#125;,</span><br><span class="line">loading: &apos;&lt;div id=&quot;spinLoading&quot; class=&quot;bg-white w-100 h-100 position-absolute row align-items-center justify-content-center m-0 spin-loading&quot; style=&quot;top:0;left:0;&quot;&gt;&lt;div class=&quot;loader&quot;&gt;&lt;div class=&quot;loader-inner line-spin-fade-loader&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&apos;,</span><br><span class="line">&#125;,</span><br><span class="line">modalFooter: &#123;</span><br><span class="line">show: typeof option.showFooter === &apos;boolean&apos; ? option.showFooter : true,</span><br><span class="line">styles: &#123;</span><br><span class="line">&apos;justify-content&apos;: option.footerAlign||&apos;center&apos;</span><br><span class="line">&#125;,</span><br><span class="line">type: option.type || &apos;confirm&apos;,</span><br><span class="line">buttons: &#123;</span><br><span class="line">&apos;confirm&apos;: [&#123;</span><br><span class="line">type: &apos;ok&apos;,</span><br><span class="line">classes: &apos;btn-primary&apos;,</span><br><span class="line">text: option.okText || &apos;确认&apos;,</span><br><span class="line">fn: function() &#123;</span><br><span class="line">option.ok ? option.ok(that) : that.$el.modal(&apos;hide&apos;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">type: &apos;cancel&apos;,</span><br><span class="line">classes: &apos;btn-secondary&apos;,</span><br><span class="line">text: &apos;取消&apos;,</span><br><span class="line">fn: function() &#123;</span><br><span class="line">option.cancel ? option.cancel(that) : that.$el.modal(&apos;hide&apos;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;],</span><br><span class="line">&apos;tip&apos;: [&#123;</span><br><span class="line">type: &apos;tip&apos;,</span><br><span class="line">classes: &apos;btn-info&apos;,</span><br><span class="line">text: &apos;我知道了&apos;,</span><br><span class="line">fn: function() &#123;</span><br><span class="line">option.confirm ? option.confirm(that) : that.$el.modal(&apos;hide&apos;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;]</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">formatStyle: function(obj) &#123;</span><br><span class="line">if(!obj || $.isEmptyObject(obj)) &#123;</span><br><span class="line">return &apos;&apos;;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">var res = [];</span><br><span class="line">for(var key in obj) &#123;</span><br><span class="line">res.push(key + &apos;:&apos; + obj[key]);</span><br><span class="line">&#125;</span><br><span class="line">return res.join(&apos;;&apos;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">shown: function() &#123;</span><br><span class="line">option.shown ? option.shown(that) : that.hideLoading();</span><br><span class="line">&#125;,</span><br><span class="line">hidden: function() &#123;</span><br><span class="line">option.hidden &amp;&amp; option.hidden(that);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">if(!$(base.el).length) &#123;</span><br><span class="line">$(&apos;body&apos;).append(&apos;&lt;div id=&quot;&apos; + base.el.substring(1) + &apos;&quot; class=&quot;modal fade&quot; style=&quot;z-index:10000;&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;exampleModalCenterTitle&quot; aria-hidden=&quot;true&quot; data-backdrop=&quot;static&quot;&gt;&lt;/div&gt;&apos;);</span><br><span class="line">&#125;</span><br><span class="line">that.$el = $(base.el);</span><br><span class="line">var templete = [];</span><br><span class="line">if(base.style) &#123;</span><br><span class="line">that.$el.attr(&apos;style&apos;, base.style);</span><br><span class="line">&#125;</span><br><span class="line">templete.push(&apos;&lt;div class=&quot;modal-dialog modal-dialog-centered modal-dialog-scrollable &apos; + base.classes + &apos;&quot; role=&quot;document&quot; style=&quot;&apos; + base.formatStyle(base.styles) + &apos;&quot;&gt;&apos;);</span><br><span class="line">templete.push(&apos;    &lt;div class=&quot;modal-content&quot;&gt;&apos;);</span><br><span class="line">templete.push(&apos;        &lt;div class=&quot;modal-header border-0 py-2&quot; style=&quot;&apos; + base.formatStyle(base.modalHeader.styles) + &apos;&quot;&gt;&apos;);</span><br><span class="line">templete.push(&apos;            &lt;h5 class=&quot;modal-title pr-3 text-nowrap overflow-hidden&quot; style=&quot;text-overflow:ellipsis;&quot;&gt;&apos; + base.modalHeader.title + &apos;&lt;/h5&gt;&apos;);</span><br><span class="line">templete.push(&apos;            &lt;button type=&quot;button&quot; class=&quot;close&quot; style=&quot;margin:-0.5rem -1rem;padding:0.5rem 0.75rem;&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&apos;);</span><br><span class="line">templete.push(&apos;                &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;&apos;);</span><br><span class="line">templete.push(&apos;            &lt;/button&gt;&apos;);</span><br><span class="line">templete.push(&apos;        &lt;/div&gt;&apos;);</span><br><span class="line">templete.push(&apos;        &lt;div class=&quot;modalBody modal-body relative&quot; style=&quot;&apos; + base.formatStyle(base.modalBody.styles) + &apos;&quot;&gt;&apos;);</span><br><span class="line">templete.push(&apos;            &lt;!--提示内容--&gt;&apos;);</span><br><span class="line">templete.push(base.modalBody.content + base.modalBody.loading);</span><br><span class="line">templete.push(&apos;        &lt;/div&gt;&apos;);</span><br><span class="line">if(base.modalFooter.show) &#123;</span><br><span class="line">templete.push(&apos;    &lt;div class=&quot;modal-footer border-0&quot; style=&quot;&apos; + base.formatStyle(base.modalFooter.styles) + &apos;&quot;&gt;&apos;);</span><br><span class="line">base.modalFooter.buttons[base.modalFooter.type].forEach(function(item, index) &#123;</span><br><span class="line">$[&apos;xmCustomModal&apos; + index] = item.fn;</span><br><span class="line">templete.push(&apos;    &lt;button type=&quot;button&quot; class=&quot;btn &apos; + item.classes + &apos; px-4&quot; onclick=&quot;&apos; + &apos;$.xmCustomModal&apos; + index + &apos;();&quot;&gt;&apos; + item.text + &apos;&lt;/button&gt;&apos;);</span><br><span class="line">&#125;);</span><br><span class="line">templete.push(&apos;    &lt;/div&gt;&apos;);</span><br><span class="line">&#125;</span><br><span class="line">templete.push(&apos;    &lt;/div&gt;&apos;);</span><br><span class="line">templete.push(&apos;&lt;/div&gt;&apos;);</span><br><span class="line">that.$el.html(templete.join(&apos;&apos;));</span><br><span class="line">that.$el.off(&apos;hidden.bs.modal&apos;).on(&apos;hidden.bs.modal&apos;, function() &#123;</span><br><span class="line">base.hidden &amp;&amp; base.hidden(this);</span><br><span class="line">&#125;);</span><br><span class="line">that.$el.off(&apos;shown.bs.modal&apos;).on(&apos;shown.bs.modal&apos;, function() &#123;</span><br><span class="line">base.shown &amp;&amp; base.shown(that);</span><br><span class="line">&#125;);</span><br><span class="line">that.$el.modal(&apos;show&apos;);</span><br><span class="line">return this;</span><br><span class="line">&#125;,</span><br><span class="line">hideLoading: function() &#123;</span><br><span class="line">$(&apos;#spinLoading&apos;).hide();</span><br><span class="line">return this;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p><p>示例：<a href="/pages/bootstrap-Modal组件封装.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> jquery </tag>
            
            <tag> bootstrap </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>title美化提示框</title>
      <link href="/2019/02/25/title%E7%BE%8E%E5%8C%96%E6%8F%90%E7%A4%BA%E6%A1%86/"/>
      <url>/2019/02/25/title%E7%BE%8E%E5%8C%96%E6%8F%90%E7%A4%BA%E6%A1%86/</url>
      <content type="html"><![CDATA[<p>title美化提示框：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;meta name=&quot;renderer&quot; content=&quot;webkit&quot;&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt;</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=yes&quot; /&gt;</span><br><span class="line">&lt;title&gt;美化title属性，使title成为提示框&lt;/title&gt;</span><br><span class="line">&lt;script src=&quot;http://www.jq22.com/jquery/jquery-1.7.1.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">.tipsy-tooltip &#123;</span><br><span class="line">font-size: 12px;</span><br><span class="line">font-family: \5b8b\4f53;</span><br><span class="line">line-height: 1.5;</span><br><span class="line">position: absolute;</span><br><span class="line">padding: 5px;</span><br><span class="line">z-index: 100003;</span><br><span class="line">opacity: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tipsy-arrow &#123;</span><br><span class="line">position: absolute;</span><br><span class="line">width: 0;</span><br><span class="line">height: 0;</span><br><span class="line">line-height: 0;</span><br><span class="line">border: 6px dashed #FFA500;</span><br><span class="line">top: 0;</span><br><span class="line">left: 20%;</span><br><span class="line">margin-left: -5px;</span><br><span class="line">border-bottom-style: solid;</span><br><span class="line">border-top: 0;</span><br><span class="line">border-left-color: transparent;</span><br><span class="line">border-right-color: transparent</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tipsy-arrow-n &#123;</span><br><span class="line">border-bottom-color: #FFA500;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tipsy-inner &#123;</span><br><span class="line">background-color: #FFA500;</span><br><span class="line">color: #fff;</span><br><span class="line">max-width: 200px;</span><br><span class="line">padding: 5px 8px 4px 8px;</span><br><span class="line">text-align: center;</span><br><span class="line">border-radius: 3px</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;提示：利用title属性制作的提示框效果，不是真正的提示弹出框&lt;/p&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;a href=&quot;#&quot; title=&quot;我是提示文字&quot;&gt;提示文字</span><br><span class="line">&lt;span style=&quot;padding: 0 10px 0 0;&quot;&gt;-子元素&lt;/span&gt;</span><br><span class="line">&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;#&quot; title=&quot;&lt;p&gt;我是提示文字1&lt;/p&gt;&lt;p&gt;我是提示文字2&lt;/p&gt;&quot;&gt;提示文字可换行&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">(function() &#123;</span><br><span class="line">$.extend(&#123;</span><br><span class="line">sweetTitles: &#123;</span><br><span class="line">x: 10,</span><br><span class="line">y: 20,</span><br><span class="line">tipElements: &quot;a,span,img,div&quot;,</span><br><span class="line">noTitle: false,</span><br><span class="line">isTarget: true,</span><br><span class="line">init: function() &#123;</span><br><span class="line">var that = this;</span><br><span class="line">$(this.tipElements).each(function() &#123;</span><br><span class="line">$(this).mouseover(function(e) &#123;</span><br><span class="line">if(that.isTarget &amp;&amp; !$(e.target).is(this)) &#123;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">if(that.noTitle) &#123;</span><br><span class="line">isTitle = true;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">isTitle = $.trim(this.title) != &apos;&apos;;</span><br><span class="line">&#125;</span><br><span class="line">if(isTitle) &#123;</span><br><span class="line">this.myTitle = this.title;</span><br><span class="line">this.title = &quot;&quot;;</span><br><span class="line">var tooltip = &quot;&lt;div class=&apos;tipsy-tooltip&apos;&gt;&lt;div class=&apos;tipsy-arrow tipsy-arrow-n&apos;&gt;&lt;/div&gt;&lt;div class=&apos;tipsy-inner&apos;&gt;&quot; +this.myTitle +&quot;&lt;/div&gt;&lt;/div&gt;&quot;;</span><br><span class="line">$(&apos;body&apos;).append(tooltip);</span><br><span class="line">$(&apos;.tipsy-tooltip&apos;).css(&#123;</span><br><span class="line">&quot;top&quot;: (e.pageY + 20) + &quot;px&quot;,</span><br><span class="line">&quot;left&quot;: (e.pageX - 20) + &quot;px&quot;</span><br><span class="line">&#125;).show(&apos;fast&apos;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;).mouseout(function() &#123;</span><br><span class="line">if(this.myTitle != null) &#123;</span><br><span class="line">this.title = this.myTitle;</span><br><span class="line">$(&apos;.tipsy-tooltip&apos;).remove();</span><br><span class="line">&#125;</span><br><span class="line">&#125;).mousemove(function(e) &#123;</span><br><span class="line">$(&apos;.tipsy-tooltip&apos;).css(&#123;</span><br><span class="line">&quot;top&quot;: (e.pageY + 20) + &quot;px&quot;,</span><br><span class="line">&quot;left&quot;: (e.pageX - 20) + &quot;px&quot;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;)();</span><br><span class="line">//调用</span><br><span class="line">$.sweetTitles.init();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>示例：<a href="/pages/title美化提示框.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>js运算精度_decimal插件</title>
      <link href="/2019/02/19/js%E8%BF%90%E7%AE%97%E7%B2%BE%E5%BA%A6_decimal%E6%8F%92%E4%BB%B6/"/>
      <url>/2019/02/19/js%E8%BF%90%E7%AE%97%E7%B2%BE%E5%BA%A6_decimal%E6%8F%92%E4%BB%B6/</url>
      <content type="html"><![CDATA[<p>收藏备用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;解决JS运算和精度问题-decimal.js&lt;/title&gt;</span><br><span class="line">&lt;script src=&quot;../js/decimal.min.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">/*示例*/</span><br><span class="line">var dc=function (r) &#123;</span><br><span class="line">return new Decimal(r);</span><br><span class="line">&#125;</span><br><span class="line">//加法 add</span><br><span class="line">var a = dc(0.1).add(dc(0.2));</span><br><span class="line">//减法 sub</span><br><span class="line">var b = dc(0.3).sub(dc(0.1));</span><br><span class="line">//乘法 mul</span><br><span class="line">var c = dc(37.5).mul(dc(5.5));</span><br><span class="line">//除法 div</span><br><span class="line">var d = dc(10).div(dc(3));</span><br><span class="line">console.log(a);</span><br><span class="line">console.log(b);</span><br><span class="line">console.log(c);</span><br><span class="line">console.log(d);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>示例：<a href="/pages/js运算精度_decimal插件.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>input-range自定义</title>
      <link href="/2019/02/01/input_range%E8%87%AA%E5%AE%9A%E4%B9%89/"/>
      <url>/2019/02/01/input_range%E8%87%AA%E5%AE%9A%E4%B9%89/</url>
      <content type="html"><![CDATA[<p>input-range自定义样式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;zh&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot; /&gt;</span><br><span class="line">&lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">/*去除默认样式*/</span><br><span class="line">input[type=range] &#123;</span><br><span class="line">-webkit-appearance: none;</span><br><span class="line">width: 300px;</span><br><span class="line">background: -webkit-linear-gradient(#059CFA, #059CFA) no-repeat;</span><br><span class="line">background-size: 0% 100%;</span><br><span class="line">border-radius: 10px;</span><br><span class="line">/*这个属性设置使填充进度条时的图形为圆角*/</span><br><span class="line">&#125;</span><br><span class="line">input[type=range]::-webkit-slider-thumb &#123;</span><br><span class="line">-webkit-appearance: none;</span><br><span class="line">/*隐藏滑块*/</span><br><span class="line">&#125;</span><br><span class="line">/*轨道自定义样式*/</span><br><span class="line">input[type=range]::-webkit-slider-runnable-track &#123;</span><br><span class="line">height: 15px;</span><br><span class="line">border-radius: 10px;</span><br><span class="line">/*将轨道设为圆角的*/</span><br><span class="line">box-shadow: 0 1px 1px #def3f8, inset 0 .125em .125em #0d1112;</span><br><span class="line">/*轨道内置阴影效果*/</span><br><span class="line">&#125;</span><br><span class="line">input[type=range]:focus &#123;</span><br><span class="line">outline: none;</span><br><span class="line">/*原始的控件获取到焦点时，会显示包裹整个控件的边框，所以还需要把边框取消。*/</span><br><span class="line">&#125;</span><br><span class="line">/*滑块自定义样式*/</span><br><span class="line">input[type=range]::-webkit-slider-thumb &#123;</span><br><span class="line">-webkit-appearance: none;</span><br><span class="line">height: 25px;</span><br><span class="line">width: 25px;</span><br><span class="line">margin-top: -5px;</span><br><span class="line">/*使滑块超出轨道部分的偏移量相等*/</span><br><span class="line">background: #ffffff;</span><br><span class="line">border-radius: 50%;</span><br><span class="line">/*外观设置为圆形*/</span><br><span class="line">border: solid 0.125em rgba(205, 224, 230, 0.5);</span><br><span class="line">/*设置边框*/</span><br><span class="line">box-shadow: 0 .125em .125em #3b4547;</span><br><span class="line">/*添加底部阴影*/</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input id=&quot;snrPollInterval&quot; type=&quot;range&quot; value=&quot;10&quot; min=&quot;1&quot; max=&quot;30&quot;&gt;</span><br><span class="line">&lt;script src=&quot;js/jquery-2.1.0.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">//滑动时的样式</span><br><span class="line">$.fn.RangeSlider = function(cfg) &#123;</span><br><span class="line">this.sliderCfg = &#123;</span><br><span class="line">min: cfg &amp;&amp; !isNaN(parseFloat(cfg.min)) ? Number(cfg.min) : null,</span><br><span class="line">max: cfg &amp;&amp; !isNaN(parseFloat(cfg.max)) ? Number(cfg.max) : null,</span><br><span class="line">step: cfg &amp;&amp; Number(cfg.step) ? cfg.step : 1,</span><br><span class="line">callback: cfg &amp;&amp; cfg.callback ? cfg.callback : null</span><br><span class="line">&#125;;</span><br><span class="line">var $input = $(this);</span><br><span class="line">var min = this.sliderCfg.min;</span><br><span class="line">var max = this.sliderCfg.max;</span><br><span class="line">var step = this.sliderCfg.step;</span><br><span class="line">var callback = this.sliderCfg.callback;</span><br><span class="line">$input.attr(&apos;min&apos;, min).attr(&apos;max&apos;, max).attr(&apos;step&apos;, step);</span><br><span class="line">$input.on(&quot;input&quot;, function(e) &#123;</span><br><span class="line">$input.attr(&apos;value&apos;, this.value);</span><br><span class="line">$input.css(&apos;background&apos;, &apos;linear-gradient(to right, #059CFA, #ebeff4 &apos; + this.value + &apos;%, #ebeff4)&apos;);</span><br><span class="line">if($.isFunction(callback)) &#123;</span><br><span class="line">callback(this);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">$input.trigger(&apos;input&apos;);</span><br><span class="line">&#125;;</span><br><span class="line">$(&apos;#snrPollInterval&apos;).RangeSlider(&#123;</span><br><span class="line">min: 0,</span><br><span class="line">max: 100,</span><br><span class="line">step: 1,</span><br><span class="line">callback: &apos;&apos;</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>示例：<a href="/pages/input_range自定义.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> jquery </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>canvas转换svg合成图片</title>
      <link href="/2019/02/01/canvas%E8%BD%AC%E6%8D%A2svg%E5%90%88%E6%88%90%E5%9B%BE%E7%89%87/"/>
      <url>/2019/02/01/canvas%E8%BD%AC%E6%8D%A2svg%E5%90%88%E6%88%90%E5%9B%BE%E7%89%87/</url>
      <content type="html"><![CDATA[<p>此函数应用场景为：百度地图生成自定义标志<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">(function ($, document) &#123;</span><br><span class="line">    $.extend(&#123;</span><br><span class="line">        //16进制颜色转换为rgba颜色</span><br><span class="line">        colorRgb: function (str, opacity) &#123;</span><br><span class="line">            var reg = /^#([0-9a-fA-f]&#123;3&#125;|[0-9a-fA-f]&#123;6&#125;)$/;</span><br><span class="line">            var sColor = str.toLowerCase();</span><br><span class="line">            if (sColor &amp;&amp; reg.test(sColor)) &#123;</span><br><span class="line">                if (sColor.length === 4) &#123;</span><br><span class="line">                    var sColorNew = &quot;#&quot;;</span><br><span class="line">                    for (var i = 1; i &lt; 4; i++) &#123;</span><br><span class="line">                        sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));</span><br><span class="line">                    &#125;</span><br><span class="line">                    sColor = sColorNew;</span><br><span class="line">                &#125;</span><br><span class="line">                //处理六位的颜色值  </span><br><span class="line">                var sColorChange = [];</span><br><span class="line">                for (var i = 1; i &lt; 7; i += 2) &#123;</span><br><span class="line">                    sColorChange.push(parseInt(&quot;0x&quot; + sColor.slice(i, i + 2)));</span><br><span class="line">                &#125;</span><br><span class="line">                return &quot;rgba(&quot; + sColorChange.join(&quot;,&quot;) + &quot;,&quot; + opacity; //透明度</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                return sColor;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        svgToPng: function (opts) &#123;</span><br><span class="line">            var options = &#123;</span><br><span class="line">                color: opts.color || &apos;#ff0000&apos;,</span><br><span class="line">                opacity: opts.opacity || 0.3,</span><br><span class="line">                txt: opts.txt || &apos;生&apos;,</span><br><span class="line">                width: opts.width || 30,</span><br><span class="line">                height: opts.height || 30,</span><br><span class="line">                fn: opts.fn || function (res) &#123;</span><br><span class="line">                    console.log(res);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            var svgArr = [];</span><br><span class="line">            svgArr.push(&apos;&lt;svg version=&quot;1.1&quot; id=&quot;图层_1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot; width=&quot;&apos; + options.width + &apos;&quot; height=&quot;&apos; + options.height + &apos;&quot; viewBox=&quot;0 0 48 48&quot; enable-background=&quot;new 0 0 48 48&quot; xml:space=&quot;preserve&quot;&gt;&apos;);</span><br><span class="line">            svgArr.push(&apos;    &lt;path fill=&quot;&apos; + $.colorRgb(options.color, options.opacity) + &apos;&quot; d=&quot;M45.301,24.094c0,11.741-9.519,21.26-21.26,21.26c-11.741,0-21.26-9.519-21.26-21.26 c0-11.741,9.519-21.259,21.26-21.259C35.782,2.834,45.301,12.353,45.301,24.094z&quot; /&gt;&apos;);</span><br><span class="line">            svgArr.push(&apos;    &lt;path fill=&quot;&apos; + options.color + &apos;&quot; d=&quot;M8.45,24.096c0,8.608,6.98,15.588,15.59,15.588c8.611,0,15.59-6.98,15.59-15.588 c0-8.612-6.979-15.592-15.59-15.592C15.43,8.504,8.45,15.484,8.45,24.096z&quot; /&gt;&apos;);</span><br><span class="line">            svgArr.push(&apos;&lt;/svg&gt;&apos;);</span><br><span class="line">            var svgXml = svgArr.join(&apos;&apos;);</span><br><span class="line">            var img = new Image();</span><br><span class="line">            img.crossOrigin = &apos;Anonymous&apos;;</span><br><span class="line">            //给图片对象写入base64编码的svg流</span><br><span class="line">            img.src = &apos;data:image/svg+xml;base64,&apos; + window.btoa(unescape(encodeURIComponent(svgXml)));</span><br><span class="line">            img.onload = function () &#123;</span><br><span class="line">                var canvas = document.createElement(&apos;canvas&apos;); //准备空画布</span><br><span class="line">                var context = canvas.getContext(&apos;2d&apos;);</span><br><span class="line">                canvas.width = options.width;</span><br><span class="line">                canvas.height = options.height;</span><br><span class="line">                context.drawImage(img, 0, 0);</span><br><span class="line">                context.fillStyle = &apos;#fff&apos;;</span><br><span class="line">                context.font = &quot;bold 13px &apos;微软雅黑&apos;,&apos;宋体&apos;&quot;;</span><br><span class="line">                context.textBaseline = &apos;middle&apos;;</span><br><span class="line">                context.fillText(options.txt, (options.width - 13) / 2, (options.height / 2));</span><br><span class="line">                var imagePng = canvas.toDataURL(&apos;image/png&apos;);</span><br><span class="line">                options.fn &amp;&amp; options.fn(imagePng);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)(jQuery, document);</span><br></pre></td></tr></table></figure></p><p>示例：<a href="/pages/canvas转换svg合成图片.html">请点这里</a></p>]]></content>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>前端实现懒加载</title>
      <link href="/2018/12/05/%E5%89%8D%E7%AB%AF%E5%AE%9E%E7%8E%B0%E6%87%92%E5%8A%A0%E8%BD%BD/"/>
      <url>/2018/12/05/%E5%89%8D%E7%AB%AF%E5%AE%9E%E7%8E%B0%E6%87%92%E5%8A%A0%E8%BD%BD/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;zh&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot; /&gt;</span><br><span class="line">&lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/bootstrap.min.css&quot;/&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">.page-scroll-container&gt;div&#123;position:relative;margin-bottom:20px&#125;</span><br><span class="line">            .page-scroll-container a&#123;overflow:hidden;display:block&#125;</span><br><span class="line">            .mask&#123;background-color:rgba(0,0,0,0.6);position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;filter:alpha(opacity=0);transition:all .5s;-webkit-transition:all .5s;-moz-transition:all .5s;-o-transition:all .5s;-ms-transition:all .5s;text-align:center;color:#ffffff&#125;</span><br><span class="line">            .mask h4&#123;transform:translateY(10px);opacity:0.5;transition-duration:0.8s;transition-delay:.2s;margin-top:28%;font-size:36px;line-height:42px&#125;</span><br><span class="line">            .page-scroll-container&gt;div:hover .mask h4&#123;opacity:1;transform:translateY(-10px)&#125;</span><br><span class="line">            .mask strong&#123;transform:translateY(10px);opacity:0.8;transition-duration:1s;transition-delay:.3s;display:block&#125;</span><br><span class="line">            .page-scroll-container&gt;div:hover .mask strong&#123;transform:translateY(-10px);opacity:1;transition-duration:opacity 1s&#125;</span><br><span class="line">            .mask span&#123;color:#fff;transform:translateY(10px);opacity:0.5;transition-duration:.8s;transition-delay:.4s;display:block;font-size:14px&#125;</span><br><span class="line">            .page-scroll-container&gt;div:hover span&#123;opacity:1;transform:translateY(-10px)&#125;</span><br><span class="line">            .page-scroll-container&gt;div:hover .mask&#123;opacity:1;filter:alpha(opacity=100);transform:scale(1)&#125;</span><br><span class="line">            .page-scroll-container img&#123;width:100%;height:100%;transition:all .5s;-webkit-transition:all .5s;-moz-transition:all .5s;-o-transition:all .5s;-ms-transition:all .5s;overflow:hidden&#125;</span><br><span class="line">            .page-scroll-container a:hover img&#123;-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2)&#125;</span><br><span class="line">            .more&#123;width:280px;height:55px;line-height:55px;background:#d7000f;margin:20px auto 50px auto;text-align:center;border-radius:26px&#125;</span><br><span class="line">            .more a&#123;color:#ffffff;font-size:18px&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;page-scroll-container row&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;more&quot;&gt;</span><br><span class="line">&lt;a id=&quot;itemMore&quot;&gt;查看更多造势案例+&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./js/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">(function($, document) &#123;</span><br><span class="line">/*前端实现-懒加载插件pageScroll</span><br><span class="line"> * param el       &#123;object&#125; jquery对象,默认： $(&apos;.page-scroll-container&apos;)</span><br><span class="line"> * param datas    &#123;array &#125; 数据数组,格式：[&#123;img:&apos;&apos;,title:&apos;&apos;,content:&apos;&apos;&#125;,...],默认：示例</span><br><span class="line"> * param pageSize &#123;number&#125; 每页显示数量,默认： 6</span><br><span class="line"> * param currentPage &#123;number&#125; 当前页,默认： 0</span><br><span class="line"> * param addButton &#123;object&#125; jquery对象,默认： $(&apos;#itemMore&apos;)</span><br><span class="line"> * param bottom &#123;number&#125; 距底部距离,默认： 0</span><br><span class="line"> * param loadingTime &#123;number&#125; 加载时间,默认： 200ms</span><br><span class="line"> * */</span><br><span class="line">$.pageScroll = function(option) &#123;</span><br><span class="line">option = option || &#123;&#125;;</span><br><span class="line">var defaultOption = &#123;</span><br><span class="line">el: $(&apos;.page-scroll-container&apos;),</span><br><span class="line">arr: option.datas || JSON.parse((&apos;[&apos; + new String(&apos;,&#123;&quot;img&quot;:&quot;img/index3_1.png&quot;,&quot;title&quot;:&quot;Brand&quot;,&quot;content&quot;:&quot;内容&quot;&#125;&apos;).repeat(20).substring(1) + &apos;]&apos;)),</span><br><span class="line">pagesize: option.pageSize || 6,</span><br><span class="line">currentPage: option.currentPage || 0,</span><br><span class="line">$loadText: option.addButton || $(&apos;#itemMore&apos;),</span><br><span class="line">loadTxt: &#123;</span><br><span class="line">more: &apos;查看更多造势案例+&apos;,</span><br><span class="line">loading: &apos;&lt;span&gt;加载中...&lt;/span&gt;&apos;,</span><br><span class="line">end: &apos;没有更多了&apos;</span><br><span class="line">&#125;,</span><br><span class="line">bottom: option.bottom || 0,</span><br><span class="line">loadingTime: option.loadingTime || 200,</span><br><span class="line">isloading: false</span><br><span class="line">&#125;;</span><br><span class="line">Object.defineProperty(defaultOption, &quot;page&quot;, &#123;</span><br><span class="line">get: function() &#123;</span><br><span class="line">if(option.page) &#123;</span><br><span class="line">return option.page</span><br><span class="line">&#125;</span><br><span class="line">return this.arr.length % this.pagesize ? (parseInt(this.arr.length / this.pagesize) + 1) : this.arr.length / this.pagesize;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">defaultOption.toPage = function() &#123;</span><br><span class="line">var that = this;</span><br><span class="line">if(!this.isloading) &#123;</span><br><span class="line">this.isloading = true;</span><br><span class="line">var res = [];</span><br><span class="line">for(var i = this.currentPage * this.pagesize, len = ((i + this.pagesize &lt; this.arr.length) ? i + this.pagesize : this.arr.length); i &lt; len; i++) &#123;</span><br><span class="line">res.push(&apos;&lt;div class=&quot;imgitem col-md-4 col-sm-4 col-xs-6&quot; style=&quot;display:none;&quot;&gt;&apos;);</span><br><span class="line">res.push(&apos;&lt;a href=&quot;#&quot;&gt;&apos;);</span><br><span class="line">res.push(&apos;&lt;img src=&quot;&apos; + this.arr[i].img + &apos;&quot; class=&quot;img-responsive&quot;&gt;&apos;);</span><br><span class="line">res.push(&apos;&lt;div class=&quot;mask&quot;&gt;&apos;);</span><br><span class="line">res.push(&apos;&lt;h4&gt;&apos; + this.arr[i].title + &apos;&lt;/h4&gt;&apos;);</span><br><span class="line">res.push(&apos;&lt;strong&gt;&apos; + this.arr[i].content + &apos;&lt;/strong&gt;&apos;);</span><br><span class="line">res.push(&apos;&lt;span class=&quot;qwe&quot;&gt;查看该案例详情&lt;/span&gt;&apos;);</span><br><span class="line">res.push(&apos;&lt;/div&gt;&apos;);</span><br><span class="line">res.push(&apos;&lt;/a&gt;&apos;);</span><br><span class="line">res.push(&apos;&lt;/div&gt;&apos;);</span><br><span class="line">&#125;</span><br><span class="line">$(this.el).append(res.join(&apos;&apos;));</span><br><span class="line">$(&apos;.imgitem:not(:visible)&apos;).fadeIn(1500);</span><br><span class="line">this.$loadText.html(this.loadTxt.more);</span><br><span class="line">this.currentPage++;</span><br><span class="line">setTimeout(function() &#123;</span><br><span class="line">that.isloading = false;</span><br><span class="line">&#125;, 1000);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">defaultOption.init = function() &#123;</span><br><span class="line">var that = this;</span><br><span class="line">this.toPage();</span><br><span class="line">//点击展开更多</span><br><span class="line">this.$loadText.on(&apos;click&apos;, function() &#123;</span><br><span class="line">if(that.currentPage &lt; that.page) &#123;</span><br><span class="line">that.$loadText.html(that.loadTxt.loading);</span><br><span class="line">setTimeout(function() &#123;</span><br><span class="line">that.toPage();</span><br><span class="line">&#125;, that.loadingTime);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">that.$loadText.html(that.loadTxt.end);</span><br><span class="line">&#125;</span><br><span class="line">that.toPage();</span><br><span class="line">return false;</span><br><span class="line">&#125;);</span><br><span class="line">//页面滚动到距底部x距离时展开更多</span><br><span class="line">$(window).on(&apos;scroll&apos;, function() &#123;</span><br><span class="line">var wHeight = $(window).innerHeight();</span><br><span class="line">var dHeight = $(document).height();</span><br><span class="line">var sHeight = $(document).scrollTop();</span><br><span class="line">var bottomLength = dHeight - wHeight - sHeight;</span><br><span class="line">if(bottomLength &lt;= that.bottom) &#123; //距底部高度</span><br><span class="line">if(that.currentPage &lt; that.page) &#123;</span><br><span class="line">that.$loadText.html(that.loadTxt.loading);</span><br><span class="line">setTimeout(function() &#123;</span><br><span class="line">that.toPage();</span><br><span class="line">&#125;, that.loadingTime);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">that.$loadText.html(that.loadTxt.end);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">defaultOption.init();</span><br><span class="line">return defaultOption;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)(jQuery, document);</span><br><span class="line">//调用方式</span><br><span class="line">$.pageScroll();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> jquery </tag>
            
            <tag> bootstrap </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>客户端模拟浏览量</title>
      <link href="/2018/12/01/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A8%A1%E6%8B%9F%E6%B5%8F%E8%A7%88%E9%87%8F/"/>
      <url>/2018/12/01/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A8%A1%E6%8B%9F%E6%B5%8F%E8%A7%88%E9%87%8F/</url>
      <content type="html"><![CDATA[<h4 id="前端模拟浏览量计数"><a href="#前端模拟浏览量计数" class="headerlink" title="前端模拟浏览量计数"></a><strong>前端模拟浏览量计数</strong></h4><p>函数/方法注释必须包含函数说明，有参数和返回值时必须使用注释标识。；<br>参数和返回值注释必须包含类型信息和说明；<br>当函数是内部函数，外部不可访问时，可以使用 <code>@inner</code> 标识；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//前端实现“浏览量造假”</span><br><span class="line">function getViewNumber() &#123;</span><br><span class="line">var firstDate = new Date(&apos;2018/10/30&apos;).getTime();//服务器上传时间</span><br><span class="line">var oneDay = 86400000;                           //一天毫秒数</span><br><span class="line">var nowDate = new Date().getTime();              //客户端时间</span><br><span class="line">var region = (nowDate - firstDate) / oneDay;     //时间差</span><br><span class="line">var step = 500;                                  //每天浏览量设定</span><br><span class="line">var todayView = parseInt(region * step);         //获取当前浏览量</span><br><span class="line">var view;</span><br><span class="line">if(localStorage.myViewNumber) &#123;                  //获取客户端刷新页面次数</span><br><span class="line">localStorage.myViewNumber++;</span><br><span class="line">view = ~~localStorage.myViewNumber + todayView;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">localStorage.myViewNumber = 1;</span><br><span class="line">view = ~~localStorage.myViewNumber + todayView;</span><br><span class="line">&#125;</span><br><span class="line">return view;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>js规范</title>
      <link href="/2018/04/13/js%E8%A7%84%E8%8C%83/"/>
      <url>/2018/04/13/js%E8%A7%84%E8%8C%83/</url>
      <content type="html"><![CDATA[<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><h4 id="原则"><a href="#原则" class="headerlink" title="原则"></a><strong>原则</strong></h4><p>As short as possible（如无必要，勿增注释）：尽量提高代码本身的清晰性、可读性。</p><p>As long as necessary（如有必要，尽量详尽）：合理的注释、空行排版等，可以让代码更易阅读、更具美感。</p><h4 id="单行注释"><a href="#单行注释" class="headerlink" title="单行注释"></a><strong>单行注释</strong></h4><p>必须独占一行。<code>//</code> 后跟一个空格，缩进与下一行被注释说明的代码一致。</p><h4 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a><strong>多行注释</strong></h4><p>避免使用 <code>/*...*/</code> 这样的多行注释。有多行注释内容时，使用多个单行注释。</p><h4 id="函数-方法注释"><a href="#函数-方法注释" class="headerlink" title="函数/方法注释"></a><strong>函数/方法注释</strong></h4><p>函数/方法注释必须包含函数说明，有参数和返回值时必须使用注释标识。；<br>参数和返回值注释必须包含类型信息和说明；<br>当函数是内部函数，外部不可访问时，可以使用 <code>@inner</code> 标识；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 函数描述</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;string&#125; p1 参数1的说明</span><br><span class="line"> * @param &#123;string&#125; p2 参数2的说明，比较长</span><br><span class="line"> *     那就换行了.</span><br><span class="line"> * @param &#123;number=&#125; p3 参数3的说明（可选）</span><br><span class="line"> * @return &#123;Object&#125; 返回值描述</span><br><span class="line"> */</span><br><span class="line">function foo(p1, p2, p3) &#123;</span><br><span class="line">    var p3 = p3 || 10;</span><br><span class="line">    return &#123;</span><br><span class="line">        p1: p1,</span><br><span class="line">        p2: p2,</span><br><span class="line">        p3: p3</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="文件注释"><a href="#文件注释" class="headerlink" title="文件注释"></a><strong>文件注释</strong></h4><p>文件注释用于告诉不熟悉这段代码的读者这个文件中包含哪些东西。 应该提供文件的大体内容, 它的 <strong><code>作者</code></strong> , <strong><code>依赖关系</code></strong> 和 <strong><code>兼容性信息</code></strong> 。如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @fileoverview Description of file, its uses and information</span><br><span class="line"> * about its dependencies.</span><br><span class="line"> * @author user@meizu.com (Firstname Lastname)</span><br><span class="line"> * Copyright 2009 Meizu Inc. All Rights Reserved.</span><br><span class="line"> */</span><br></pre></td></tr></table></figure></p><h2 id="命名语法"><a href="#命名语法" class="headerlink" title="命名语法"></a>命名语法</h2><p>类名，使用名词。<br><figure class="highlight plain"><figcaption><span>Engine(options) &#123;&#125;```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">函数名，使用动宾短语。</span><br><span class="line">```function getStyle(element) &#123;&#125;</span><br></pre></td></tr></table></figure></p><p>boolean 类型的变量使用 is 或 has 开头。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var isReady = false;</span><br><span class="line">var hasMoreCommands = false;</span><br></pre></td></tr></table></figure></p><p>Promise 对象用动宾短语的进行时表达。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var loadingData = ajax.get(&apos;url&apos;);</span><br><span class="line">loadingData.then(callback);</span><br></pre></td></tr></table></figure></p><h4 id="接口命名规范"><a href="#接口命名规范" class="headerlink" title="接口命名规范"></a><strong>接口命名规范</strong></h4><p>可读性强，见名晓义；<br>尽量不与 jQuery 社区已有的习惯冲突；<br>尽量写全。不用缩写，除非是下面列表中约定的；（变量以表达清楚为目标，uglify 会完成压缩体积工作）</p><table><thead><tr><th>常用词</th><th>说明：</th></tr></thead><tbody><tr><td>options</td><td>表示选项，与 jQuery 社区保持一致，不要用 config, opts 等</td></tr><tr><td>active</td><td>表示当前，不要用 current 等</td></tr><tr><td>index</td><td>表示索引，不要用 idx 等</td></tr><tr><td>trigger</td><td>触点元素</td></tr><tr><td>triggerType</td><td>触发类型、方式</td></tr><tr><td>context</td><td>表示传入的 this 对象</td></tr><tr><td>object</td><td>推荐写全，不推荐简写为 o, obj 等</td></tr><tr><td>element</td><td>推荐写全，不推荐简写为 el, elem 等</td></tr><tr><td>length</td><td>不要写成 len, l</td></tr><tr><td>prev</td><td>previous 的缩写</td></tr><tr><td>next</td><td>next 下一个</td></tr><tr><td>constructor</td><td>不能写成 ctor</td></tr><tr><td>easing</td><td>示动画平滑函数</td></tr><tr><td>min</td><td>minimize 的缩写</td></tr><tr><td>max</td><td>maximize 的缩写</td></tr><tr><td>DOM</td><td>不要写成 dom, Dom</td></tr><tr><td>.hbs</td><td>使用 hbs 后缀表示模版</td></tr><tr><td>btn</td><td>button 的缩写</td></tr><tr><td>link</td><td>超链接</td></tr><tr><td>title</td><td>主要文本</td></tr><tr><td>img</td><td>图片路径（img标签src属性)</td></tr><tr><td>dataset</td><td>html5 data-xxx 数据接口</td></tr><tr><td>theme</td><td>主题</td></tr><tr><td>className</td><td>类名</td></tr><tr><td>classNameSpace</td><td>class 命名空间</td></tr></tbody></table><p><strong> </strong>建议jquery对象命名采用 <code>$element</code>格式**</p><h2 id="True-和-False-布尔表达式"><a href="#True-和-False-布尔表达式" class="headerlink" title="True 和 False 布尔表达式"></a>True 和 False 布尔表达式</h2><p>类型检测优先使用 typeof。对象类型检测使用 instanceof。null 或 undefined 的检测使用 == null。<br>下面的布尔表达式都返回 false:</p><ul><li>null</li><li>undefined</li><li>‘’ 空字符串</li><li>0 数字0</li><li>但小心下面的, 可都返回 true:</li><li>‘0’ 字符串0</li><li>[] 空数组</li><li>{} 空对象</li></ul><h2 id="不要在-Array-上使用-for-in-循环"><a href="#不要在-Array-上使用-for-in-循环" class="headerlink" title="不要在 Array 上使用 for-in 循环"></a>不要在 Array 上使用 for-in 循环</h2><p>for-in 循环只用于 object/map/hash 的遍历, 对 Array 用 for-in 循环有时会出错. 因为它并不是从 0 到 length - 1 进行遍历, 而是所有出现在对象及其原型链的键值。</p><h2 id="条件-三元-操作符"><a href="#条件-三元-操作符" class="headerlink" title="条件(三元)操作符 (?:)"></a>条件(三元)操作符 (?:)</h2><p>三元操作符用于替代 if 条件判断语句。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// Not recommended</span><br><span class="line">if (val != 0) &#123;</span><br><span class="line">  return foo();</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  return bar();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Recommended</span><br><span class="line">return val ? foo() : bar();</span><br></pre></td></tr></table></figure></p><h2 id="amp-amp-和"><a href="#amp-amp-和" class="headerlink" title="&amp;&amp; 和 ||"></a>&amp;&amp; 和 ||</h2><p>二元布尔操作符是可短路的, 只有在必要时才会计算到最后一项。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// Not recommended</span><br><span class="line">function foo(opt_win) &#123;</span><br><span class="line">  var win;</span><br><span class="line">  if (opt_win) &#123;</span><br><span class="line">    win = opt_win;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    win = window;</span><br><span class="line">  &#125;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (node) &#123;</span><br><span class="line">  if (node.kids) &#123;</span><br><span class="line">    if (node.kids[index]) &#123;</span><br><span class="line">      foo(node.kids[index]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Recommended</span><br><span class="line">function foo(opt_win) &#123;</span><br><span class="line">  var win = opt_win || window;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var kid = node &amp;&amp; node.kids &amp;&amp; node.kids[index];</span><br><span class="line">if (kid) &#123;</span><br><span class="line">  foo(kid);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><p><strong>避免不必要的 DOM 操作</strong></p><p>浏览器遍历 DOM 元素的代价是昂贵的。最简单优化 DOM 树查询的方案是，当一个元素出现多次时，将它保存在一个变量中，就避免多次查询 DOM 树了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">var myList = &quot;&quot;;</span><br><span class="line">var myListHTML = document.getElementById(&quot;myList&quot;).innerHTML;</span><br><span class="line"></span><br><span class="line">for (var i = 0; i &lt; 100; i++) &#123;</span><br><span class="line">  myList += &quot;&lt;span&gt;&quot; + i + &quot;&lt;/span&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myListHTML = myList;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">for (var i = 0; i &lt; 100; i++) &#123;</span><br><span class="line">  document.getElementById(&quot;myList&quot;).innerHTML += &quot;&lt;span&gt;&quot; + i + &quot;&lt;/span&gt;&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>缓存数组长度</strong></p><p>循环无疑是和 JavaScript 性能非常相关的一部分。通过存储数组的长度，可以有效避免每次循环重新计算。<br>注: 虽然现代浏览器引擎会自动优化这个过程，但是不要忘记还有旧的浏览器。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var arr = new Array(1000),</span><br><span class="line">    len, i;</span><br><span class="line">// good</span><br><span class="line">for (i = 0, len = arr.length; i &lt; len; i++) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">for (i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>异步加载第三方内容</strong></p><p>当你无法保证嵌入第三方内容比如 Youtube 视频或者一个 like/tweet 按钮可以正常工作的时候，你需要考虑用异步加载这些代码，避免阻塞整个页面加载。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(function() &#123;</span><br><span class="line">    var script,</span><br><span class="line">        scripts = document.getElementsByTagName(&apos;script&apos;)[0];</span><br><span class="line"></span><br><span class="line">    function load(url) &#123;</span><br><span class="line">      script = document.createElement(&apos;script&apos;);</span><br><span class="line">      script.async = true;</span><br><span class="line">      script.src = url;</span><br><span class="line">      scripts.parentNode.insertBefore(script, scripts);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    load(&apos;//apis.google.com/js/plusone.js&apos;);</span><br><span class="line">    load(&apos;//platform.twitter.com/widgets.js&apos;);</span><br><span class="line">    load(&apos;//s.widgetsite.com/widget.js&apos;);</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure></p><p><strong>避免使用 jQuery 实现动画</strong></p><p>禁止使用 slideUp/Down() fadeIn/fadeOut() 等方法；尽量不使用 animate() 方法；</p><p>在确保产品兼容性的前提下，能利用requestAnimationFrame方式、css3方式实现的动画，就尽量用以上两种方式代替jQuery实现。</p><p>requestAnimationFrame使用方法请参考：<a href="http://www.zhangxinxu.com/wordpress/2013/09/css3-animation-requestanimationframe-tween-%E5%8A%A8%E7%94%BB%E7%AE%97%E6%B3%95/" target="_blank" rel="noopener">CSS3动画那么强，requestAnimationFrame还有毛线用？-赵鑫旭</a></p><p><strong>备注：</strong></p><ol><li>开发环境统一严格模式，所有js文件头部统一添加<code>/*use strict*/</code>;<br>2.</li></ol>]]></content>
      
      
    </entry>
    
    <entry>
      <title>css规范</title>
      <link href="/2018/04/13/css%E8%A7%84%E8%8C%83/"/>
      <url>/2018/04/13/css%E8%A7%84%E8%8C%83/</url>
      <content type="html"><![CDATA[<h2 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h2><p> id采用驼峰式命名；<br> 类名使用小写字母，以中划线分隔。</p><h2 id="正确使用-Display-的属性"><a href="#正确使用-Display-的属性" class="headerlink" title="正确使用 Display 的属性"></a>正确使用 Display 的属性</h2><p>Display 属性会影响页面的渲染，请合理使用。</p><ul><li>display: inline后不应该再使用 width、height、margin、padding 以及 float；</li><li>display: inline-block 后不应该再使用 float；</li><li>display: block 后不应该再使用 vertical-align；</li><li>display: table-* 后不应该再使用 margin 或者 float；</li></ul><h2 id="不滥用-Float"><a href="#不滥用-Float" class="headerlink" title="不滥用 Float"></a>不滥用 Float</h2><p>Float在渲染时计算量比较大，尽量减少使用。</p><h2 id="多利用硬件能力，如通过-3D-变形开启-GPU-加速"><a href="#多利用硬件能力，如通过-3D-变形开启-GPU-加速" class="headerlink" title="多利用硬件能力，如通过 3D 变形开启 GPU 加速"></a>多利用硬件能力，如通过 3D 变形开启 GPU 加速</h2><p>一般在 Chrome 中，3D或透视变换（perspective transform）CSS属性和对 opacity 进行 CSS 动画会创建新的图层，在硬件加速渲染通道的优化下，GPU 完成 3D 变形等操作后，将图层进行复合操作（Compesite Layers），从而避免触发浏览器大面积重绘和重排。<br>注：3D 变形会消耗更多的内存和功耗。<br>使用 translate3d 右移 500px 的动画流畅度要明显优于直接使用 left：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.ball-1 &#123;</span><br><span class="line">  transition: -webkit-transform .5s ease;</span><br><span class="line">  -webkit-transform: translate3d(0, 0, 0);</span><br><span class="line">&#125;</span><br><span class="line">.ball-1.slidein&#123;</span><br><span class="line">  -webkit-transform: translate3d(500px, 0, 0);</span><br><span class="line">&#125;</span><br><span class="line">.ball-2 &#123;</span><br><span class="line">  transition: left .5s ease; left：0;</span><br><span class="line">&#125;</span><br><span class="line">.ball-2.slidein &#123;</span><br><span class="line">  left：500px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="提升-CSS-选择器性能"><a href="#提升-CSS-选择器性能" class="headerlink" title="提升 CSS 选择器性能"></a>提升 CSS 选择器性能</h2><p>CSS 选择器对性能的影响源于浏览器匹配选择器和文档元素时所消耗的时间，所以优化选择器的原则是应尽量避免使用消耗更多匹配时间的选择器。而在这之前我们需要了解 CSS 选择器匹配的机制， 如子选择器规则：<br><code>#header &gt; a {font-weight:blod;}</code><br>我们中的大多数人都是从左到右的阅读习惯，会习惯性的设定浏览器也是从左到右的方式进行匹配规则，推测这条规则的开销并不高。<br>我们会假设浏览器以这样的方式工作：寻找 id 为 header 的元素，然后将样式规则应用到直系子元素中的 a 元素上。我们知道文档中只有一个 id 为 header 的元素，并且它只有几个 a 元素的子节点，所以这个 CSS 选择器应该相当高效。<br>事实上，却恰恰相反，CSS 选择器是从右到左进行规则匹配。了解这个机制后，例子中看似高效的选择器在实际中的匹配开销是很高的，浏览器必须遍历页面中所有的 a 元素并且确定其父元素的 id 是否为 header 。<br>如果把例子的子选择器改为后代选择器则会开销更多，在遍历页面中所有 a 元素后还需向其上级遍历直到根节点。<br><code>#header  a {font-weight:blod;}</code><br>理解了CSS选择器从右到左匹配的机制后，明白只要当前选择符的左边还有其他选择符，样式系统就会继续向左移动，直到找到和规则匹配的选择符，或者因为不匹配而退出。我们把最右边选择符称之为关键选择器。——更多详情</p><ol><li><p><strong>避免使用通用选择器</strong><br>浏览器匹配文档中所有的元素后分别向上逐级匹配 class 为 content 的元素，直到文档的根节点。因此其匹配开销是非常大的，所以应避免使用关键选择器是通配选择器的情况。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/* bad */</span><br><span class="line">.content * &#123;color: red;&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>避免使用标签或 class 选择器限制 id 选择器</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/* bad */</span><br><span class="line">button#backButton &#123;…&#125;</span><br><span class="line">/* good */</span><br><span class="line">#newMenuIcon &#123;…&#125;</span><br></pre></td></tr></table></figure></li><li><p>避免使用标签限制 class 选择器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/* bad */</span><br><span class="line">treecell.indented &#123;…&#125;</span><br><span class="line">/* good */</span><br><span class="line">.treecell-indented &#123;…&#125;</span><br><span class="line">/* better */</span><br><span class="line">.hierarchy-deep &#123;…&#125;</span><br></pre></td></tr></table></figure></li><li><p>避免使用多层标签选择器。使用 class 选择器替换，减少css查找</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/* bad */</span><br><span class="line">treeitem[mailfolder=&quot;true&quot;] &gt; treerow &gt; treecell &#123;…&#125;</span><br><span class="line">/* good */</span><br><span class="line">.treecell-mailfolder &#123;…&#125;</span><br></pre></td></tr></table></figure></li><li><p>避免使用子选择器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/* bad */</span><br><span class="line">treehead treerow treecell &#123;…&#125;</span><br><span class="line">/* good */</span><br><span class="line">treehead &gt; treerow &gt; treecell &#123;…&#125;</span><br><span class="line">/* better */</span><br><span class="line">.treecell-header &#123;…&#125;</span><br></pre></td></tr></table></figure></li><li><p>使用继承</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/* bad */</span><br><span class="line">#bookmarkMenuItem &gt; .menu-left &#123; list-style-image: url(blah) &#125;</span><br><span class="line">/* good */</span><br><span class="line">#bookmarkMenuItem &#123; list-style-image: url(blah) &#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul><li>不允许有空的规则；</li><li>元素选择器用小写字母；</li><li>去掉数字中不必要的小数点和末尾的0；</li><li>属性值’0’后面不要加单位；</li><li>同个属性不同前缀的写法需要在垂直方向保持对齐；</li><li>无前缀的标准属性应该写在有前缀的属性后面；</li><li>不要在同个规则里出现重复的属性，如果重复的属性是连续的则没关系；</li><li>不要在一个文件里出现两个相同的规则；</li><li>用 border: 0; 代替 border: none;；</li><li>选择器不要超过4层（在scss中如果超过4层应该考虑用嵌套的方式来写）；</li><li>发布的代码中不要有 @import；</li><li>尽量少用’*’选择器。<h3 id="nec-网易-的reset"><a href="#nec-网易-的reset" class="headerlink" title="nec(网易) 的reset"></a>nec(网易) 的reset</h3></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/* reset */</span><br><span class="line">html,body,h1,h2,h3,h4,h5,h6,div,dl,dt,dd,ul,ol,li,p,blockquote,pre,hr,figure,table,caption,th,td,form,fieldset,legend,input,button,textarea,menu&#123;margin:0;padding:0;&#125;</span><br><span class="line">header,footer,section,article,aside,nav,hgroup,address,figure,figcaption,menu,details&#123;display:block;&#125;</span><br><span class="line">table&#123;border-collapse:collapse;border-spacing:0;&#125;</span><br><span class="line">caption,th&#123;text-align:left;font-weight:normal;&#125;</span><br><span class="line">html,body,fieldset,img,iframe,abbr&#123;border:0;&#125;</span><br><span class="line">i,cite,em,var,address,dfn&#123;font-style:normal;&#125;</span><br><span class="line">[hidefocus],summary&#123;outline:0;&#125;</span><br><span class="line">li&#123;list-style:none;&#125;</span><br><span class="line">h1,h2,h3,h4,h5,h6,small&#123;font-size:100%;&#125;</span><br><span class="line">sup,sub&#123;font-size:83%;&#125;</span><br><span class="line">pre,code,kbd,samp&#123;font-family:inherit;&#125;</span><br><span class="line">q:before,q:after&#123;content:none;&#125;</span><br><span class="line">textarea&#123;overflow:auto;resize:none;&#125;</span><br><span class="line">label,summary&#123;cursor:default;&#125;</span><br><span class="line">a,button&#123;cursor:pointer;&#125;</span><br><span class="line">h1,h2,h3,h4,h5,h6,em,strong,b&#123;font-weight:bold;&#125;</span><br><span class="line">del,ins,u,s,a,a:hover&#123;text-decoration:none;&#125;</span><br><span class="line">body,textarea,input,button,select,keygen,legend&#123;font:12px/1.14 arial,\5b8b\4f53;color:#333;outline:0;&#125;</span><br><span class="line">body&#123;background:#fff;&#125;</span><br><span class="line">a,a:hover&#123;color:#333;&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
    </entry>
    
    <entry>
      <title>html规范</title>
      <link href="/2018/04/13/html%E8%A7%84%E8%8C%83/"/>
      <url>/2018/04/13/html%E8%A7%84%E8%8C%83/</url>
      <content type="html"><![CDATA[<hr><h2 id="head"><a href="#head" class="headerlink" title="head"></a>head</h2><p>head基本内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--字符编码：--&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;!--页面标题：--&gt;</span><br><span class="line">&lt;title&gt;青岛乘正科技有限公司&lt;/title&gt;</span><br><span class="line">&lt;!--页面关键词：--&gt;</span><br><span class="line">&lt;meta name=&quot;keywords&quot; content=&quot;&quot;&gt;</span><br><span class="line">&lt;!--页面描述内容：--&gt;</span><br><span class="line">&lt;meta name=&quot;Description&quot; content=&quot;不超过150个字符&quot; /&gt;</span><br><span class="line">&lt;!--移动端及响应式网站：--&gt;</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no&quot; /&gt;</span><br><span class="line">&lt;!--favicon 图标：--&gt;</span><br><span class="line">&lt;link rel=&quot;shortcut icon&quot; href=&quot;img/favicon.ico&quot; type=&quot;img/x-icon&quot; /&gt;</span><br><span class="line">&lt;!--bookmark 图标：--&gt;</span><br><span class="line">&lt;link rel=&quot;bookmark&quot; href=&quot;img/favicon.ico&quot; type=&quot;img/x-icon&quot; /&gt;</span><br><span class="line">&lt;!--网页作者：--&gt;</span><br><span class="line">&lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;</span><br></pre></td></tr></table></figure></p><h4 id="可以选择加入的标签："><a href="#可以选择加入的标签：" class="headerlink" title="可以选择加入的标签："></a><strong><em>可以选择加入的标签</em></strong>：</h4><ol><li><p>设定网页的到期时间。一旦网页过期，必须到服务器上重新调阅。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=&quot;expires&quot; content=&quot;Wed, 26 Feb 1997 08：21：57 GMT&quot;&gt;</span><br></pre></td></tr></table></figure></li><li><p>禁止浏览器从本地机的缓存中调阅页面内容。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot;&gt;</span><br></pre></td></tr></table></figure></li><li><p>用来防止别人在框架里调用你的页面。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=&quot;Window-target&quot; content=&quot;_top&quot;&gt;</span><br></pre></td></tr></table></figure></li><li><p>自动跳转(5 指时间停留 5 秒)。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=&quot;refresh&quot; content=&quot;5;url=http://www.baidu.com&quot;&gt;</span><br></pre></td></tr></table></figure></li></ol><p><strong><em>备注</em></strong><br>http缓存机制深入理解推荐文章：</p><ol><li><a href="https://www.cnblogs.com/chenqf/p/6386163.html" target="_blank" rel="noopener">彻底弄懂HTTP缓存机制及原理</a></li><li><a href="https://www.cnblogs.com/vajoy/p/5341664.html" target="_blank" rel="noopener">浅谈浏览器http的缓存机制</a></li></ol><h2 id="body"><a href="#body" class="headerlink" title="body"></a>body</h2><ol><li>请不要在网页中连续出现多于一个的空格，也尽量少使用全角空格（英文字符集下，全角空格会变成乱码），空白应该尽量使用 <code>text-indent</code> <code>padding</code> <code>margin</code>实现。</li><li><p>a标签无文字提示时设置title属性，img标签设置alt属性。a标签默认占位符’###’。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;###&quot; title=&quot;给链接文字提示&quot;&gt;&lt;img src=&quot;图片.gif&quot; alt=&quot;给图片提示&quot;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure></li><li><p>尽量遵循HTML标准和语义。基本的H5语义标签：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`header` `nav` `section` `artical` `aside` `dialog` `footer`</span><br></pre></td></tr></table></figure></li><li><p>标签属性定义推荐顺序依次为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`id class name data-*`</span><br></pre></td></tr></table></figure></li><li><p>尽量避免多余的父节点、注释节点。例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;&lt;!--多余父节点--&gt;</span><br><span class="line">&lt;!--&lt;span&gt;无用注释节点&lt;/span&gt;--&gt;</span><br><span class="line">&lt;div class=&quot;container&quot;&gt;...&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="补充："><a href="#补充：" class="headerlink" title="补充："></a><strong>补充</strong>：</h3><ul><li>尽量采用外链css样式，避免内部及内联样式。</li><li>script统一放至body标签内最后。（此引用js方式，无需document.ready检测）</li></ul>]]></content>
      
      
    </entry>
    
  
  
    
  
</search>
